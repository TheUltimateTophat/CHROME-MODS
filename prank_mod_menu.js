javascript:(()=>{try{const I='_mod_menu_root';if(document.getElementById(I)){document.getElementById(I).api&&document.getElementById(I).api.show();return;}const p=v=>v+'px',C=(t,o={})=>Object.assign(document.createElement(t),o),S=t=>{const s=C('style');s.textContent=t;return s},O=(e,v,f,o)=>{e.addEventListener(v,f,o);return()=>e.removeEventListener(v,f,o)};const H=C('div',{id:I,style:'all:initial;position:fixed;inset:auto 12px 12px auto;z-index:2147483647'});document.documentElement.appendChild(H);const sh=H.attachShadow({mode:'open'}),st=S(':host{all:initial}.w{font:13px/1.2 system-ui,Segoe UI,Roboto,Arial,sans-serif;color:#fff;background:#111b;backdrop-filter:saturate(1.2) blur(8px);border:1px solid #2b2b2b;border-radius:10px;box-shadow:0 6px 30px #0007;min-width:240px;max-width:340px;user-select:none}.tb{display:flex;align-items:center;gap:10px;padding:8px 10px;background:#0b0f13;border-bottom:1px solid #2b2b2b;border-radius:10px 10px 0 0;cursor:grab}.tb:active{cursor:grabbing}.sp{flex:1}.tools{padding:8px 10px}.srch{width:100%;box-sizing:border-box;border:1px solid #2b2b2b;border-radius:8px;background:#0f141a;color:#e6edf3;padding:7px 9px;margin:0 0 8px 0;outline:none}.list{display:grid;grid-template-columns:1fr;gap:6px;max-height:45vh;overflow:auto}.row{display:flex;gap:6px;align-items:center}.row .btn{flex:1}.btn{appearance:none;border:1px solid #2b2b2b;background:#18222c;color:#e6edf3;border-radius:8px;padding:8px 10px;font-weight:600;cursor:pointer}.btn:hover{filter:brightness(1.1)}.btn.sm{padding:4px 8px;border-radius:6px}.btn.act{background:#0e6efd;border-color:#0e6efd}.btn.dng{background:#c0392b;border-color:#c0392b}.hint{opacity:.7;margin-left:8px}.acts{display:flex;align-items:center;justify-content:space-between;margin-top:6px}');sh.appendChild(st);const R=C('div');R.innerHTML='<div class="w"><div class="tb"><strong>Mod Menu</strong><span class="sp"></span><button class="btn sm" id="clp" title="Collapse">–</button><button class="btn sm dng" id="cls" title="Close">×</button></div><div class="tools" id="tools"><input id="srch" class="srch" placeholder="Search… (e.g. spin, grid)"><div id="list" class="list"></div><div class="acts"><button class="btn" id="clr">Clear All</button><button class="btn" id="re">Reload Page</button><span class="hint">Drag by title · ESC clears Draw</span></div></div></div>';sh.appendChild(R);(()=>{const b=R.querySelector('.tb');let sx=0,sy=0,ox=0,oy=0,off;const d=e=>{sx=e.clientX;sy=e.clientY;const r=H.getBoundingClientRect();ox=r.left;oy=r.top;off=O(window,'mousemove',e2=>{const x=Math.max(0,Math.min(innerWidth-H.offsetWidth,ox+(e2.clientX-sx)));const y=Math.max(0,Math.min(innerHeight-H.offsetHeight,oy+(e2.clientY-sy)));H.style.left=p(x);H.style.top=p(y);H.style.right='auto';H.style.bottom='auto'}) ,u=()=>{off&&off();window.removeEventListener('mouseup',u)};window.addEventListener('mouseup',u)};b.addEventListener('mousedown',d)})();const tools=R.querySelector('#tools');R.querySelector('#clp').onclick=()=>{tools.style.display=tools.style.display?'':'none'};const state={active:new Map(),cleanups:new Map(),search:''};function loadExternal({name,url,timeoutMs=15000,msg,before}){if(!confirm(name+'\\n\\nThis will inject a third-party script.\\nOnly run on pages you trust.'))return()=>{};if(!confirm('Second confirmation:\\n\\nURL:\\n'+url+'\\n\\nProceed?'))return()=>{};try{before&&before()}catch{}const s=C('script',{type:'text/javascript'});s.src=url;let done=false;const t=setTimeout(()=>{if(!done)alert(name+': loading timed out.\\nThe site may block external scripts (CSP).')},timeoutMs);s.onerror=()=>{done=true;clearTimeout(t);alert((msg||name+': failed to load (CSP/network).')+'\\nURL logged in console.');console.log('Bookmarklet URL:',url)};s.onload=()=>{done=true;clearTimeout(t)};document.body.appendChild(s);return()=>{s.remove()}}const acts=[{id:'rainbow',name:'Rainbow',run(){const s=S('@keyframes __h{to{filter:hue-rotate(360deg)}} html{animation:h 8s linear infinite}');document.documentElement.appendChild(s);return()=>s.remove()}},{id:'hack',name:'Hack Theme',run(){const pb=[document.body.style.backgroundImage,document.body.style.backgroundRepeat,document.body.style.backgroundSize];const map=new Map();document.querySelectorAll('*').forEach(el=>{map.set(el,[el.style.backgroundColor,el.style.color]);el.style.backgroundColor='transparent';el.style.color='lightgreen'});Object.assign(document.body.style,{backgroundImage:'url(https://upload.wikimedia.org/wikipedia/commons/1/17/Digital_rain_animation_small_letters_clear.gif)',backgroundRepeat:'repeat',backgroundSize:'auto'});return()=>{Object.assign(document.body.style,{backgroundImage:pb[0],backgroundRepeat:pb[1],backgroundSize:pb[2]});map.forEach((v,el)=>{if(el&&el.style){el.style.backgroundColor=v[0]||'';el.style.color=v[1]||''}})} }},{id:'spin',name:'Spin Images',run(){const s=S('@keyframes __s{to{transform:rotate(360deg)}} img{animation:s 2s linear infinite}');document.documentElement.appendChild(s);return()=>s.remove()}},{id:'flip',name:'Flip Screen 180',run(){const s=S('html{transform:rotate(180deg)} html,body,*{transform-origin:center !important}');document.documentElement.appendChild(s);return()=>s.remove()}},{id:'dance',name:'Screen Dance',run(){const s=S('@keyframes __b{0%,100%{transform:translate(0,0)}25%,75%{transform:translate(20px,-30px)}50%{transform:translate(-20px,-40px)}} body{animation:b .6s infinite}');document.documentElement.appendChild(s);const f=C('iframe',{width:0,height:0,allow:'autoplay',src:'https://www.youtube.com/embed/hiRacdl02w4?autoplay=1&controls=0&loop=1&playlist=hiRacdl02w4&mute=1',style:'position:fixed;right:0;bottom:0;border:0;width:0;height:0'});document.body.appendChild(f);return()=>{s.remove();f.remove()} }},{id:'edit',name:'Edit Webpage',run(){const ce=document.body.contentEditable,sc=document.body.spellcheck;document.body.contentEditable='true';document.body.spellcheck=false;return()=>{document.body.contentEditable=ce||'false';document.body.spellcheck=sc}}},{id:'autoclick',name:'Auto Clicker',run(){const k='auto_click',s=S('.auto_click{cursor:crosshair !important;outline:2px dashed red !important;}');document.documentElement.appendChild(s);let set=new Set();const h=e=>{if(!e.isTrusted)return;const t=e.target;if(set.has(t)){t.classList.remove(k);set.delete(t);return}t.classList.add(k);set.add(t);(function loop(){if(!set.has(t))return;try{t.click()}catch{}setTimeout(loop,5)})();e.preventDefault()};const off=O(document.body,'click',h,true);return()=>{off();s.remove();set.forEach(el=>el.classList.remove(k));set.clear()}}},{id:'draw',name:'Screen Draw (Canvas)',run(){const cv=C('canvas',{style:'position:fixed;inset:0;z-index:2147483646;pointer-events:auto;cursor:crosshair'}),ctx=cv.getContext('2d');let draw=false,col='#ff0000',sz=8,al=.8;const rs=()=>{cv.width=innerWidth;cv.height=innerHeight};rs();const offs=[O(window,'resize',rs),O(cv,'mousedown',e=>{draw=true;ctx.beginPath();ctx.moveTo(e.clientX,e.clientY)}),O(cv,'mousemove',e=>{if(!draw)return;ctx.lineTo(e.clientX,e.clientY);ctx.strokeStyle=col;ctx.lineWidth=sz;ctx.lineCap='round';ctx.globalAlpha=al;ctx.stroke()}),O(window,'mouseup',()=>{draw=false}),O(window,'keydown',e=>{if(e.key==='[')sz=Math.max(1,sz-1);if(e.key===']')sz=Math.min(200,sz+1);if(e.key==='o')al=Math.max(.05,al-.1);if(e.key==='p')al=Math.min(1,al+.1);if(e.key==='c'){const v=prompt('Color (CSS)',col);if(v)col=v}if(e.key==='e'){ctx.globalCompositeOperation='destination-out'}if(e.key==='b'){ctx.globalCompositeOperation='source-over'}if(e.key==='Escape'){ctx.clearRect(0,0,cv.width,cv.height)}})];document.body.appendChild(cv);return()=>{cv.remove();offs.forEach(f=>f())}}},{id:'grid',name:'Grid Overlay',run(){const s=S('.grid_overlay{position:fixed;inset:0;pointer-events:none;z-index:2147483645;background:linear-gradient(to right,rgba(255,255,255,.1) 1px,transparent 1px) 0 0/10px 100%,linear-gradient(to bottom,rgba(255,255,255,.1) 1px,transparent 1px) 0 0/100% 10px,linear-gradient(to right,rgba(255,255,255,.2) 1px,transparent 1px) 0 0/100px 100%,linear-gradient(to bottom,rgba(255,255,255,.2) 1px,transparent 1px) 0 0/100% 100px;}');const ov=C('div',{className:'grid_overlay'});document.documentElement.appendChild(s);document.body.appendChild(ov);return()=>{ov.remove();s.remove()}}},{id:'hover',name:'Hover Outline',run(){const s=S('.hover_outline{outline:2px solid #0e6efd !important;}');document.documentElement.appendChild(s);let last;const enter=e=>{last&&last.classList.remove('hover_outline');last=e.target;last.classList.add('hover_outline')},leave=e=>{e.target.classList.remove('hover_outline')};const offs=[O(document,'mouseover',enter,true),O(document,'mouseout',leave,true)];return()=>{s.remove();last&&last.classList.remove('hover_outline');offs.forEach(f=>f())}}},{id:'skipAd',name:'Skip YouTube Ads (once)',instant:true,run(){const v=document.querySelector('video');if(!v){alert('No <video> found');return()=>{}}try{v.currentTime=Math.max(0,(v.duration||0)-.25)}catch{}return()=>{}} ,{id:'extMCanywhere',name:'External: MCanywhere',run(){return loadExternal({name:'MCanywhere loader',url:'https://luphoria.com/MCanywhere/js/mcbm-load.min.js',msg:'Load failed (CSP/network). URL logged.',before:()=>{window.mcbmRootURI='https://luphoria.com/MCanywhere/';window.mcbmScriptURI='mcbm.min.js';window.mcbmLang='eng';}})}},{id:'extMouseLight',name:'External: MouseLight (Krazete)',run(){return loadExternal({name:'MouseLight (Krazete)',url:'https://rawgit.com/Krazete/bookmarklets/master/mouselight.js',msg:'Sorry, the script could not be loaded (possibly CSP). URL logged.'})}},{id:'fancyReplace',name:'Fancy Replacer',run(){function W(){function G(el){if(el.childNodes&&el.childNodes.length>0){for(var i=0;i<el.childNodes.length;i++){var c=el.childNodes[i];if(c.nodeName&&c.nodeName.toLowerCase()!=='style'&&c.nodeName.toLowerCase()!=='script'){G(c)}}}if(el.nodeType===Node.TEXT_NODE&&el.nodeValue&&el.nodeValue.trim()!==''){var thechars=['ⓐ','ⓑ','ⓒ','ⓓ','ⓔ','ⓕ','ⓖ','ⓗ','ⓘ','ⓙ','ⓚ','ⓛ','ⓜ','ⓝ','ⓞ','ⓟ','ⓠ','ⓡ','ⓢ','ⓣ','ⓤ','ⓥ','ⓦ','ⓧ','ⓨ','ⓩ','Ⓐ','Ⓑ','Ⓒ','Ⓓ','Ⓔ','Ⓕ','Ⓖ','Ⓗ','Ⓘ','Ⓙ','Ⓚ','Ⓛ','Ⓜ','Ⓝ','Ⓞ','Ⓟ','Ⓠ','Ⓡ','Ⓢ','Ⓣ','Ⓤ','Ⓥ','Ⓦ','Ⓧ','Ⓨ','Ⓩ','①','②','③','④','⑤','⑥','⑦','⑧','⑨','⓪'];var map={},lower='abcdefghijklmnopqrstuvwxyz',upper='ABCDEFGHIJKLMNOPQRSTUVWXYZ',digits='0123456789';for(var a=0;a<lower.length;a++)map[lower[a]]=thechars[a];for(var b=0;b<upper.length;b++)map[upper[b]]=thechars[26+b];for(var d=0;d<digits.length;d++)map[digits[d]]=thechars[52+d]||digits[d];var txt=el.nodeValue,out='';for(var j=0;j<txt.length;j++){var ch=txt[j];out+=map.hasOwnProperty(ch)?map[ch]:ch}el.nodeValue=out}}try{G(document.body)}catch(e){console.error('g() error',e)}}W();return()=>{}} ,{id:'trailDraw',name:'Trail Draw',run(){alert('Press C to change color and R to change fade rate.');var opt=.1,pen='block',size=10,clr='blue',rate=.005,userrate=5;function mousemove(event){var x=event.clientX-8,y=event.clientY-8;(function(){var elem=document.createElement('div');document.body.appendChild(elem);elem.style.position='fixed';elem.style.top=y+'px';elem.style.left=x+'px';elem.style.margin='10px';elem.style.paddingTop='10px';elem.style.width=size+'px';elem.style.height=size+'px';elem.style.zIndex=10000;elem.style.opacity=opt;elem.style.color=clr;elem.style.backgroundColor=clr;elem.style.border='0px solid white';elem.style.textAlign='center';elem.id='paint';elem.style.display=pen;function repeat(){elem.style.opacity=elem.style.opacity-rate;}setInterval(repeat,15);}());}const mo=O(window,'mousemove',mousemove);const kd=O(window,'keydown',function(event){if(event.key=='r'){userrate=prompt('Rate? Lower = faster fade (recommended: 5)',5);rate=userrate/1000;}if(event.key=='c'){clr=prompt('Color? ex: blue',clr)||clr;}});return()=>{mo();kd();}}}];const list=R.querySelector('#list'),inp=R.querySelector('#srch');function render(){list.innerHTML='';const q=(state.search||'').trim().toLowerCase();acts.filter(a=>!q||a.name.toLowerCase().includes(q)||a.id.includes(q)).forEach(a=>{const rw=C('div',{className:'row'}),on=!!state.active.get(a.id),lbl=a.instant?(a.name+' (Run)'):(on?('Disable '+a.name):('Enable '+a.name)),btn=C('button',{className:'btn'+(on?' act':''),textContent:lbl});btn.onclick=()=>{if(a.instant){a.run();return}if(on){state.cleanups.get(a.id)&&state.cleanups.get(a.id)();state.cleanups.delete(a.id);state.active.delete(a.id)}else{const c=a.run()||(()=>{});state.cleanups.set(a.id,c);state.active.set(a.id,true)}render()};rw.appendChild(btn);list.appendChild(rw)})}inp.oninput=e=>{state.search=e.currentTarget.value,render()};render();R.querySelector('#clr').onclick=()=>{state.cleanups.forEach(f=>{try{f()}catch{}});state.cleanups.clear();state.active.clear();render()};R.querySelector('#re').onclick=()=>{location.reload()};R.querySelector('#cls').onclick=()=>{state.cleanups.forEach(f=>{try{f()}catch{}});H.remove()};H._api={show(){H.style.display='';tools.style.display=''}}}catch(e){alert('Mod Menu error: '+(e&&e.message||e))}})();
